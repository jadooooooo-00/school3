<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ê³¼í•™ì‹¤ íƒˆì¶œ ë¯¸ì…˜</title>

<style>
  html, body {
    margin: 0;
    width: 100%;
    height: 100%;
  }

  .scene {
    position: relative;
    width: 100%;
    height: 100%;
    display: none;
    background-size: cover;
    background-position: center;
  }
  .scene.active {
    display: block;
  }

  .click-area {
    position: absolute;
    cursor: pointer;
    /* ìœ„ì¹˜ í™•ì¸ìš© */
    /* background: rgba(255,0,0,0.25); */
  }

  .popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.35);
    display: none;
    z-index: 20;
    width: 340px;
    text-align: center;
  }

  .popup button {
    margin-top: 12px;
    width: 100%;
    padding: 8px;
  }

  .popup label {
    display: block;
    margin-top: 8px;
    cursor: pointer;
  }

  /* ì—´ì‡  */
  .key {
    position: absolute;
    left: 48%;
    top: 58%;
    font-size: 48px;
    cursor: pointer;
    display: none;
  }

  /* ë¹„ë°€ë²ˆí˜¸ ì•„ì´ì½˜ */
  .password-icon {
    position: fixed;
    right: 20px;
    bottom: 20px;
    font-size: 42px;
    background: rgba(255,255,255,0.85);
    border-radius: 50%;
    padding: 12px;
    cursor: pointer;
    z-index: 10;
  }

  .next-text {
    position: absolute;
    top: 40%;
    width: 100%;
    text-align: center;
    font-size: 28px;
    color: white;
  }
</style>
</head>
<body>

<!-- ğŸ”Š ë¬¸ ì—´ë¦¬ëŠ” íš¨ê³¼ìŒ -->
<audio id="doorSound">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_5c8d4f2b8c.mp3" type="audio/mpeg">
</audio>

<!-- =====================
     ê³¼í•™ì‹¤ ì¥ë©´
===================== -->
<div class="scene active" id="classroom"
     style="background-image:url('https://jadooooooo-00.github.io/school3/science.jpg')">

  <!-- ì‹œê³„ -->
  <div class="click-area"
       style="left:7%; top:6%; width:13%; height:18%;"
       onclick="openHint()"></div>

  <!-- í°ìƒ‰ ì±…ìƒ -->
  <div class="click-area"
       style="left:42%; top:64%; width:20%; height:16%;"
       onclick="openPassword()"></div>

  <!-- ì—´ì‡  -->
  <div class="key" id="key" onclick="goNextScene()">ğŸ”‘</div>
</div>

<!-- =====================
     ë‹¤ìŒ ì¥ì†Œ
===================== -->
<div class="scene" id="hallway" style="background:black;">
  <div class="next-text">
    ğŸšª í•™êµ ë¹„ë°€ ê³„ë‹¨ìœ¼ë¡œ í†µí•˜ëŠ” ë¬¸ì´ ì—´ë ¸ìŠµë‹ˆë‹¤.
  </div>
</div>

<!-- ë¹„ë°€ë²ˆí˜¸ ì•„ì´ì½˜ -->
<div class="password-icon" id="passwordIcon" onclick="openPassword()">ğŸ”’</div>

<!-- =====================
     ì‹œì‘ ë©”ì‹œì§€
===================== -->
<div class="popup" id="introPopup">
  <p>
    <b>ê³¼í•™ì‹¤ë¡œ ë“¤ì–´ì™”ë‹¤.</b><br>
    êµíƒ ì„œëì´ ì ê²¨ ìˆë‹¤.<br>
    ì—¬ê¸°ì— ë¬´ì–¸ê°€ê°€ ìˆì„ ê²ƒ ê°™ì€ë°â€¦<br>
    <span style="color:red;"><b>ë¹„ë°€ë²ˆí˜¸ê°€ ë­ì§€?</b></span>
  </p>
  <p style="font-size:13px; color:#666;">
    (í´ë¦­í•˜ê±°ë‚˜ Enter í‚¤ë¥¼ ëˆ„ë¥´ì„¸ìš”)
  </p>
</div>

<!-- íŒíŠ¸ -->
<div class="popup" id="hintPopup">
  <p>ğŸ•’ íŒíŠ¸: ì§€ê¸ˆ 14ì‹œ 25ë¶„ì´ì•¼</p>
  <button onclick="closePopup('hintPopup')">ë‹«ê¸°</button>
</div>

<!-- ë¹„ë°€ë²ˆí˜¸ -->
<div class="popup" id="passwordPopup">
  <p>ì„œë ë¹„ë°€ë²ˆí˜¸ ë„¤ìë¦¬ëŠ”?</p>
  <input type="password" id="pw" maxlength="4"
         style="width:100%; font-size:18px; text-align:center;">
  <button onclick="checkPassword()">í™•ì¸</button>
</div>

<!-- ê´‘í•©ì„± í€´ì¦ˆ -->
<div class="popup" id="quizPopup">
  <p><b>ğŸŒ± ê´‘í•©ì„± í€´ì¦ˆ</b></p>
  <p>ê´‘í•©ì„±ì— í•„ìš”í•œ ê²ƒì´ <b>ì•„ë‹Œ ê²ƒ</b>ì€?</p>

  <label><input type="radio" name="quiz" value="1"> ë¬¼</label>
  <label><input type="radio" name="quiz" value="2"> ì´ì‚°í™”íƒ„ì†Œ</label>
  <label><input type="radio" name="quiz" value="3"> ë¹›</label>
  <label><input type="radio" name="quiz" value="4"> ì‚°ì†Œ</label>

  <button onclick="checkQuiz()">ì •ë‹µ í™•ì¸</button>
</div>

<script>
  /* ì‹œì‘ ë©”ì‹œì§€ */
  window.onload = () => {
    document.getElementById("introPopup").style.display = "block";
  };

  document.addEventListener("click", closeIntro);
  document.addEventListener("keydown", e => {
    if (e.key === "Enter") closeIntro();
  });

  function closeIntro() {
    document.getElementById("introPopup").style.display = "none";
  }

  function openHint() {
    document.getElementById("hintPopup").style.display = "block";
  }

  function openPassword() {
    document.getElementById("passwordPopup").style.display = "block";
  }

  function checkPassword() {
    if (document.getElementById("pw").value === "1425") {
      closePopup("passwordPopup");
      document.getElementById("quizPopup").style.display = "block";
    } else {
      alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
    }
  }

  function checkQuiz() {
    const answer = document.querySelector('input[name="quiz"]:checked');
    if (!answer) {
      alert("ì •ë‹µì„ ì„ íƒí•˜ì„¸ìš”.");
      return;
    }

    if (answer.value === "4") {
      closePopup("quizPopup");

      // ë¹„ë°€ë²ˆí˜¸ ê´€ë ¨ ìš”ì†Œ ì œê±°
      document.getElementById("passwordPopup").remove();
      document.getElementById("passwordIcon").remove();

      // ì—´ì‡  ë“±ì¥
      document.getElementById("key").style.display = "block";
    } else {
      alert("í‹€ë ¸ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë„ì „í•˜ì„¸ìš”.");
    }
  }

  function goNextScene() {
    // íš¨ê³¼ìŒ
    document.getElementById("doorSound").play();

    // ì—´ì‡  ì œê±°
    document.getElementById("key").remove();

    // í™”ë©´ ì „í™˜
    document.getElementById("classroom").classList.remove("active");
    document.getElementById("hallway").classList.add("active");
  }

  function closePopup(id) {
    document.getElementById(id).style.display = "none";
  }
</script>

</body>
</html>
